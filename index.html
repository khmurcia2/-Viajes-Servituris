import React, { useState, useEffect } from 'react';
import { 
  Menu, X, Phone, MapPin, Clock, Instagram, Facebook, 
  Star, ChevronRight, Utensils, Award, Heart
} from 'lucide-react';

// --- Datos de Ejemplo ---

const MENU_ITEMS = [
  {
    category: "Nuestra Especialidad",
    items: [
      { id: 1, name: "Lechona Tolimense", desc: "Carne de cerdo adobada, arveja amarilla y el aut√©ntico insulso.", price: "$18.000", popular: true, image: "https://images.unsplash.com/photo-1626202158925-560df312b9a7?auto=format&fit=crop&q=80&w=600" },
      { id: 2, name: "Tamal Tolimense", desc: "Pollo, cerdo, huevo, zanahoria y arveja en hoja de pl√°tano.", price: "$12.000", popular: false, image: "https://images.unsplash.com/photo-1564834724105-918b73d1b9e0?auto=format&fit=crop&q=80&w=600" },
      { id: 3, name: "El Insurrecto", desc: "La combinaci√≥n perfecta: Mitad Lechona, Mitad Tamal.", price: "$22.000", popular: true, image: "https://images.unsplash.com/photo-1604908176997-125f25cc6f3d?auto=format&fit=crop&q=80&w=600" },
    ]
  },
  {
    category: "Combos Familiares",
    items: [
      { id: 4, name: "Combo Familiar (4p)", desc: "1 Libra de Lechona + 4 Arepas + Gaseosa 1.5L.", price: "$65.000", popular: false, image: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?auto=format&fit=crop&q=80&w=600" },
      { id: 5, name: "Coj√≠n de Lechona", desc: "Para 10 personas. Ideal para reuniones peque√±as.", price: "$180.000", popular: true, image: "https://images.unsplash.com/photo-1606787366850-de6330128bfc?auto=format&fit=crop&q=80&w=600" },
    ]
  }
];

const GALLERY_IMAGES = [
  { id: 1, src: "https://images.unsplash.com/photo-1626202158925-560df312b9a7?auto=format&fit=crop&q=80&w=800", alt: "Plato de lechona servido con arepa" },
  { id: 2, src: "https://images.unsplash.com/photo-1604908176997-125f25cc6f3d?auto=format&fit=crop&q=80&w=800", alt: "Cuerito crocante en primer plano" },
  { id: 3, src: "https://images.unsplash.com/photo-1564834724105-918b73d1b9e0?auto=format&fit=crop&q=80&w=800", alt: "Tamal tolimense abierto" },
  { id: 4, src: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?auto=format&fit=crop&q=80&w=800", alt: "Preparaci√≥n tradicional en horno de barro" },
  { id: 5, src: "https://images.unsplash.com/photo-1598514983318-2f64f8f4796c?auto=format&fit=crop&q=80&w=800", alt: "Banquete familiar de comida colombiana" },
  { id: 6, src: "https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?auto=format&fit=crop&q=80&w=800", alt: "Ingredientes frescos y locales" },
];

// --- Componentes ---

const Navbar = ({ isScrolled, toggleMenu, isMenuOpen }) => (
  <nav className={`fixed w-full z-50 transition-all duration-300 ${isScrolled ? 'bg-orange-900/95 backdrop-blur-sm shadow-lg py-3' : 'bg-transparent py-5'}`}>
    <div className="container mx-auto px-6 flex justify-between items-center">
      <div className="text-2xl font-black text-white flex items-center gap-2">
        <span className="text-3xl">üê∑</span>
        <span className={isScrolled ? 'text-orange-100' : 'text-white'}>EL TOLIMA</span>
      </div>
      
      {/* Desktop Menu */}
      <div className="hidden md:flex items-center space-x-8 text-white font-semibold">
        <a href="#inicio" className="hover:text-yellow-400 transition-colors">Inicio</a>
        <a href="#menu" className="hover:text-yellow-400 transition-colors">Men√∫</a>
        <a href="#galeria" className="hover:text-yellow-400 transition-colors">Galer√≠a</a>
        <a href="#contacto" className="bg-yellow-500 text-orange-900 px-5 py-2 rounded-full hover:bg-yellow-400 transition-colors shadow-lg">
          ¬°Pedir Ya!
        </a>
      </div>

      {/* Mobile Toggle */}
      <button className="md:hidden text-white" onClick={toggleMenu}>
        {isMenuOpen ? <X size={28} /> : <Menu size={28} />}
      </button>
    </div>

    {/* Mobile Menu Dropdown */}
    {isMenuOpen && (
      <div className="md:hidden absolute top-full left-0 w-full bg-orange-900 text-white shadow-xl py-6 px-6 flex flex-col space-y-4">
        <a href="#inicio" onClick={toggleMenu} className="block text-lg">Inicio</a>
        <a href="#menu" onClick={toggleMenu} className="block text-lg">Men√∫</a>
        <a href="#galeria" onClick={toggleMenu} className="block text-lg">Galer√≠a</a>
        <a href="#contacto" onClick={toggleMenu} className="block bg-yellow-500 text-orange-900 text-center py-3 rounded-xl font-bold">¬°Pedir Domicilio!</a>
      </div>
    )}
  </nav>
);

const Hero = () => (
  <section id="inicio" className="relative h-screen flex items-center justify-center overflow-hidden">
    {/* Background Image overlay */}
    <div className="absolute inset-0 bg-black/50 z-10"></div>
    <img 
      src="https://images.unsplash.com/photo-1598514983318-2f64f8f4796c?auto=format&fit=crop&q=80&w=1920" 
      alt="Fondo lechona" 
      className="absolute inset-0 w-full h-full object-cover"
    />
    
    <div className="relative z-20 text-center px-6 max-w-4xl mx-auto text-white">
      <div className="inline-block bg-orange-600 px-4 py-1 rounded-full text-sm font-bold tracking-wider mb-4 animate-bounce">
        ‚òÖ LA MEJOR DE LA CIUDAD ‚òÖ
      </div>
      <h1 className="text-5xl md:text-7xl font-black mb-6 leading-tight">
        El Aut√©ntico Sabor <span className="text-yellow-400">Tolimense</span>
      </h1>
      <p className="text-xl md:text-2xl mb-10 text-gray-200 font-light">
        Cuerito crocante, arveja suave y la receta de la abuela.
      </p>
      <div className="flex flex-col md:flex-row gap-4 justify-center">
        <a href="#menu" className="bg-orange-600 hover:bg-orange-700 text-white text-lg font-bold py-4 px-10 rounded-full transition-transform hover:scale-105 shadow-xl flex items-center justify-center gap-2">
          <Utensils size={20} />
          Ver Men√∫
        </a>
        <a href="#contacto" className="bg-white hover:bg-gray-100 text-orange-900 text-lg font-bold py-4 px-10 rounded-full transition-transform hover:scale-105 shadow-xl">
          Domicilios
        </a>
      </div>
    </div>
  </section>
);

const MenuSection = () => (
  <section id="menu" className="py-20 bg-orange-50">
    <div className="container mx-auto px-6">
      <div className="text-center mb-16">
        <h2 className="text-4xl font-black text-orange-900 mb-4">Nuestro Men√∫</h2>
        <div className="w-24 h-1 bg-orange-500 mx-auto rounded-full"></div>
        <p className="mt-4 text-gray-600 max-w-2xl mx-auto">
          Preparado diariamente con ingredientes frescos. ¬°No te quedes sin probar el cuerito!
        </p>
      </div>

      <div className="grid md:grid-cols-2 gap-12">
        {MENU_ITEMS.map((category, idx) => (
          <div key={idx} className="space-y-6">
            <h3 className="text-2xl font-bold text-orange-800 border-b-2 border-orange-200 pb-2 mb-6">
              {category.category}
            </h3>
            <div className="space-y-6">
              {category.items.map((item) => (
                <div key={item.id} className="bg-white p-4 rounded-2xl shadow-sm hover:shadow-md transition-shadow flex gap-4 items-center group">
                  <div className="w-24 h-24 shrink-0 rounded-xl overflow-hidden">
                    <img src={item.image} alt={item.name} className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
                  </div>
                  <div className="flex-1">
                    <div className="flex justify-between items-start mb-1">
                      <h4 className="font-bold text-lg text-gray-900">{item.name}</h4>
                      <span className="font-bold text-orange-600">{item.price}</span>
                    </div>
                    <p className="text-sm text-gray-500 mb-2 leading-snug">{item.desc}</p>
                    {item.popular && (
                      <span className="inline-flex items-center gap-1 text-xs font-bold text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full">
                        <Star size={10} fill="currentColor" /> POPULAR
                      </span>
                    )}
                  </div>
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
);

const GallerySection = ({ onImageClick }) => (
  <section id="galeria" className="py-20 bg-white">
    <div className="container mx-auto px-6">
      <div className="text-center mb-16">
        <h2 className="text-4xl font-black text-orange-900 mb-4">Galer√≠a del Sabor</h2>
        <p className="text-gray-600">Una imagen vale m√°s que mil palabras... ¬°y abre el apetito!</p>
      </div>
      
      <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 auto-rows-[200px]">
        {GALLERY_IMAGES.map((img, index) => (
          <div 
            key={img.id}
            onClick={() => onImageClick(img)}
            className={`group relative overflow-hidden rounded-2xl cursor-pointer shadow-lg hover:shadow-2xl transition-all duration-300 ${index === 0 || index === 3 ? 'md:col-span-2 md:row-span-2' : ''}`}
          >
            <div className="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors z-10 flex items-center justify-center">
                <span className="opacity-0 group-hover:opacity-100 transform scale-50 group-hover:scale-100 transition-all duration-300 bg-white/90 p-3 rounded-full text-orange-900">
                    <Heart size={24} />
                </span>
            </div>
            <img 
              src={img.src} 
              alt={img.alt} 
              className="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"
            />
          </div>
        ))}
      </div>
    </div>
  </section>
);

const ContactSection = () => (
  <section id="contacto" className="py-20 bg-gray-900 text-white">
    <div className="container mx-auto px-6">
      <div className="grid md:grid-cols-2 gap-12 items-center">
        <div>
          <h2 className="text-4xl font-black text-white mb-6">¬øAntojado?</h2>
          <p className="text-gray-400 mb-8 text-lg">
            Vis√≠tanos o pide a domicilio. Llevamos el aut√©ntico sabor del Tolima hasta la puerta de tu casa.
          </p>
          
          <div className="space-y-6">
            <div className="flex items-center gap-4">
              <div className="w-12 h-12 rounded-full bg-orange-600 flex items-center justify-center shrink-0">
                <Phone size={24} />
              </div>
              <div>
                <p className="text-gray-400 text-sm">Domicilios y Reservas</p>
                <p className="text-xl font-bold">+57 300 123 4567</p>
              </div>
            </div>
            
            <div className="flex items-center gap-4">
              <div className="w-12 h-12 rounded-full bg-orange-600 flex items-center justify-center shrink-0">
                <MapPin size={24} />
              </div>
              <div>
                <p className="text-gray-400 text-sm">Ubicaci√≥n</p>
                <p className="text-xl font-bold">Calle 72 # 11-22, Bogot√°</p>
              </div>
            </div>

            <div className="flex items-center gap-4">
              <div className="w-12 h-12 rounded-full bg-orange-600 flex items-center justify-center shrink-0">
                <Clock size={24} />
              </div>
              <div>
                <p className="text-gray-400 text-sm">Horario de Atenci√≥n</p>
                <p className="text-xl font-bold">Lun - Dom: 8:00 AM - 6:00 PM</p>
              </div>
            </div>
          </div>

          <div className="flex gap-4 mt-10">
            <a href="#" className="p-3 bg-gray-800 rounded-lg hover:bg-orange-600 transition-colors"><Instagram /></a>
            <a href="#" className="p-3 bg-gray-800 rounded-lg hover:bg-blue-600 transition-colors"><Facebook /></a>
          </div>
        </div>

        <div className="bg-white p-1 rounded-2xl rotate-2 hover:rotate-0 transition-transform duration-500">
           {/* Placeholder for map */}
           <div className="bg-gray-200 rounded-xl h-96 w-full flex items-center justify-center flex-col text-gray-400">
             <MapPin size={48} className="mb-2 text-gray-300" />
             <span className="font-semibold">Mapa de Google</span>
             <span className="text-xs">(Simulaci√≥n)</span>
           </div>
        </div>
      </div>
    </div>
  </section>
);

const Footer = () => (
  <footer className="bg-black py-8 text-center text-gray-500 text-sm border-t border-gray-800">
    <div className="container mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-4">
      <p>¬© 2024 Lechoner√≠a El Tolima. Todos los derechos reservados.</p>
      <p className="flex items-center gap-1">Hecho con <Heart size={12} className="text-red-500 fill-current" /> en Colombia</p>
    </div>
  </footer>
);

const Lightbox = ({ image, onClose }) => {
  if (!image) return null;
  return (
    <div className="fixed inset-0 z-[60] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200" onClick={onClose}>
      <button className="absolute top-6 right-6 text-white hover:text-orange-500 transition-colors">
        <X size={40} />
      </button>
      <img 
        src={image.src} 
        alt={image.alt} 
        className="max-w-full max-h-[90vh] rounded-lg shadow-2xl object-contain"
        onClick={(e) => e.stopPropagation()} 
      />
      <p className="absolute bottom-6 left-0 right-0 text-center text-white/80 font-medium text-lg pointer-events-none">
        {image.alt}
      </p>
    </div>
  );
};

export default function App() {
  const [isScrolled, setIsScrolled] = useState(false);
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [selectedImage, setSelectedImage] = useState(null);

  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 50);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  return (
    <div className="font-sans antialiased text-gray-900 bg-white selection:bg-orange-100 selection:text-orange-900 scroll-smooth">
      <Navbar 
        isScrolled={isScrolled} 
        isMenuOpen={isMenuOpen} 
        toggleMenu={() => setIsMenuOpen(!isMenuOpen)} 
      />
      
      <main>
        <Hero />
        <MenuSection />
        <GallerySection onImageClick={setSelectedImage} />
        <ContactSection />
      </main>
      
      <Footer />
      
      <Lightbox image={selectedImage} onClose={() => setSelectedImage(null)} />
    </div>
  );
}









